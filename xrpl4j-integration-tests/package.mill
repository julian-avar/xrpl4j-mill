package build
package `xrpl4j-integration-tests`

import mill.javalib.*
import mill.javalib.publish.*
import millbuild.*

object `package` extends Xrpl4jBaseModule:
    override def artifactName     = "xrpl4j-integration-tests"
    override def pomParentProject = Some(Artifact("org.xrpl", "xrpl4j-parent", "HEAD-SNAPSHOT"))
    override def pomSettings      = PomSettings("", "", "", Seq(), VersionControl(), Seq())

    object test extends MavenTests with TestModule.Junit5:
        override def forkWorkingDir        = moduleDir
        override def testParallelism       = false
        override def testSandboxWorkingDir = false

        override def moduleDeps = super.moduleDeps ++ Seq(build.`xrpl4j-client`, build.`xrpl4j-core`)
        override def mvnDeps    = super.mvnDeps() ++ Seq(
          Deps.jacksonCore,
          Deps.jacksonAnnotations,
          Deps.value,
          Deps.jacksonDatabind,
          Deps.dockerJavaApi,
          Deps.guava,
          Deps.cryptoConditions,
          Deps.okhttp,
          Deps.assertjCore,
          Deps.awaitility,
          Deps.hamcrest,
          Deps.junitJupiterApi,
          Deps.junitJupiterEngine,
          Deps.testcontainers,
          Deps.slf4jApi,
          Deps.logbackClassic
        )
    end test
end `package`
